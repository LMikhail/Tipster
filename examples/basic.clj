(ns basic
  (:require [tipster.core :as tipster]))

(defn description
  "–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–∞"
  []
  {:title "üîπ –ü—Ä–∏–º–µ—Ä 1: –û—Å–Ω–æ–≤—ã"
   :subtitle "–ò–∑—É—á–∞–µ–º —Ñ–∞–∫—Ç—ã –∏ –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã"
   :what-you-learn ["–ö–∞–∫ –¥–æ–±–∞–≤–ª—è—Ç—å —Ñ–∞–∫—Ç—ã —Å deffact"
                    "–ö–∞–∫ –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å query"
                    "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (?X, ?Y)"
                    "–û—Å–Ω–æ–≤–Ω–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å Tipster"]
   :next "./scripts/run-example.sh family"})

(defn run-example
  "–ó–∞–ø—É—Å–∫ –±–∞–∑–æ–≤–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞"
  []
  (println "\nüîπ –ü—Ä–∏–º–µ—Ä 1: –û—Å–Ω–æ–≤—ã - —Ñ–∞–∫—Ç—ã –∏ –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã")
  (println (apply str (repeat 50 "=")))
  
  (tipster/reset-tipster!)
  
  ;; –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∞–∫—Ç—ã –æ –ª—é–¥—è—Ö
  (tipster/deffact (—á–µ–ª–æ–≤–µ–∫ –∞–ª–∏—Å–∞))
  (tipster/deffact (—á–µ–ª–æ–≤–µ–∫ –±–æ–±))
  (tipster/deffact (—á–µ–ª–æ–≤–µ–∫ —á–∞—Ä–ª–∏))
  
  ;; –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∞–∫—Ç—ã –æ –ø—Ä–æ—Ñ–µ—Å—Å–∏—è—Ö
  (tipster/deffact (–ø—Ä–æ—Ñ–µ—Å—Å–∏—è –∞–ª–∏—Å–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç))
  (tipster/deffact (–ø—Ä–æ—Ñ–µ—Å—Å–∏—è –±–æ–± —É—á–∏—Ç–µ–ª—å))
  (tipster/deffact (–ø—Ä–æ—Ñ–µ—Å—Å–∏—è —á–∞—Ä–ª–∏ –≤—Ä–∞—á))
  
  (println "\nüìù –î–æ–±–∞–≤–∏–ª–∏ —Ñ–∞–∫—Ç—ã:")
  (println "   (—á–µ–ª–æ–≤–µ–∫ –∞–ª–∏—Å–∞)")
  (println "   (—á–µ–ª–æ–≤–µ–∫ –±–æ–±)")  
  (println "   (—á–µ–ª–æ–≤–µ–∫ —á–∞—Ä–ª–∏)")
  (println "   (–ø—Ä–æ—Ñ–µ—Å—Å–∏—è –∞–ª–∏—Å–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç)")
  (println "   (–ø—Ä–æ—Ñ–µ—Å—Å–∏—è –±–æ–± —É—á–∏—Ç–µ–ª—å)")
  (println "   (–ø—Ä–æ—Ñ–µ—Å—Å–∏—è —á–∞—Ä–ª–∏ –≤—Ä–∞—á)")
  
  (println "\n‚ùì –ó–∞–ø—Ä–æ—Å: –ö—Ç–æ —è–≤–ª—è–µ—Ç—Å—è —á–µ–ª–æ–≤–µ–∫–æ–º?")
  (println "   query: (—á–µ–ª–æ–≤–µ–∫ ?X)")
  (doseq [result (tipster/query (—á–µ–ª–æ–≤–µ–∫ ?X))]
    (println "   ‚úì " result))
  
  (println "\n‚ùì –ó–∞–ø—Ä–æ—Å: –ö–∞–∫–∏–µ –µ—Å—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏?")
  (println "   query: (–ø—Ä–æ—Ñ–µ—Å—Å–∏—è ?–ö—Ç–æ ?–ß—Ç–æ)")
  (doseq [result (tipster/query (–ø—Ä–æ—Ñ–µ—Å—Å–∏—è ?–ö—Ç–æ ?–ß—Ç–æ))]
    (println "   ‚úì " result))) 
